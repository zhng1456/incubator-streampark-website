"use strict";(self.webpackChunkapache_streampark_website=self.webpackChunkapache_streampark_website||[]).push([[4099],{3905:(e,n,a)=>{a.d(n,{Zo:()=>s,kt:()=>c});var t=a(7294);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function l(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function i(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?l(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function o(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},l=Object.keys(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=t.createContext({}),m=function(e){var n=t.useContext(p),a=n;return e&&(a="function"==typeof e?e(n):i(i({},n),e)),a},s=function(e){var n=m(e.components);return t.createElement(p.Provider,{value:n},e.children)},k={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),d=m(a),c=r,u=d["".concat(p,".").concat(c)]||d[c]||k[c]||l;return a?t.createElement(u,i(i({ref:n},s),{},{components:a})):t.createElement(u,i({ref:n},s))}));function c(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=d;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var m=2;m<l;m++)i[m]=a[m];return t.createElement.apply(null,i)}return t.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5162:(e,n,a)=>{a.d(n,{Z:()=>i});var t=a(7294),r=a(6010);const l="tabItem_Ymn6";function i(e){let{children:n,hidden:a,className:i}=e;return t.createElement("div",{role:"tabpanel",className:(0,r.Z)(l,i),hidden:a},n)}},5488:(e,n,a)=>{a.d(n,{Z:()=>c});var t=a(7462),r=a(7294),l=a(6010),i=a(2389),o=a(7392),p=a(7094),m=a(2466);const s="tabList__CuJ",k="tabItem_LNqP";function d(e){var n;const{lazy:a,block:i,defaultValue:d,values:c,groupId:u,className:v}=e,g=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),C=c??g.map((e=>{let{props:{value:n,label:a,attributes:t}}=e;return{value:n,label:a,attributes:t}})),b=(0,o.l)(C,((e,n)=>e.value===n.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const N=null===d?d:d??(null==(n=g.find((e=>e.props.default)))?void 0:n.props.value)??g[0].props.value;if(null!==N&&!C.some((e=>e.value===N)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${N}" but none of its children has the corresponding value. Available values are: ${C.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:f,setTabGroupChoices:S}=(0,p.U)(),[T,E]=(0,r.useState)(N),h=[],{blockElementScrollPositionUntilNextRender:y}=(0,m.o5)();if(null!=u){const e=f[u];null!=e&&e!==T&&C.some((n=>n.value===e))&&E(e)}const x=e=>{const n=e.currentTarget,a=h.indexOf(n),t=C[a].value;t!==T&&(y(n),E(t),null!=u&&S(u,String(t)))},P=e=>{var n;let a=null;switch(e.key){case"ArrowRight":{const n=h.indexOf(e.currentTarget)+1;a=h[n]??h[0];break}case"ArrowLeft":{const n=h.indexOf(e.currentTarget)-1;a=h[n]??h[h.length-1];break}}null==(n=a)||n.focus()};return r.createElement("div",{className:(0,l.Z)("tabs-container",s)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":i},v)},C.map((e=>{let{value:n,label:a,attributes:i}=e;return r.createElement("li",(0,t.Z)({role:"tab",tabIndex:T===n?0:-1,"aria-selected":T===n,key:n,ref:e=>h.push(e),onKeyDown:P,onFocus:x,onClick:x},i,{className:(0,l.Z)("tabs__item",k,null==i?void 0:i.className,{"tabs__item--active":T===n})}),a??n)}))),a?(0,r.cloneElement)(g.filter((e=>e.props.value===T))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},g.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==T})))))}function c(e){const n=(0,i.Z)();return r.createElement(d,(0,t.Z)({key:String(n)},e))}},1341:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>p,default:()=>c,frontMatter:()=>o,metadata:()=>m,toc:()=>k});var t=a(7462),r=(a(7294),a(3905)),l=a(5488),i=a(5162);const o={id:"dev-model",title:"\u7f16\u7a0b\u6a21\u578b",sidebar_position:1},p=void 0,m={unversionedId:"development/dev-model",id:"development/dev-model",title:"\u7f16\u7a0b\u6a21\u578b",description:"\u4efb\u4f55\u6846\u67b6\u90fd\u6709\u4e00\u4e9b\u8981\u9075\u5faa\u7684\u89c4\u5219\u548c\u7ea6\u5b9a, \u6211\u4eec\u53ea\u6709\u9075\u5faa\u5e76\u638c\u63e1\u4e86\u8fd9\u4e9b\u89c4\u5219, \u624d\u80fd\u66f4\u52a0\u6e38\u5203\u6709\u4f59\u7684\u4f7f\u7528, \u4f7f\u5176\u53d1\u6325\u4e8b\u534a\u529f\u500d\u7684\u6548\u679c, \u6211\u4eec\u5f00\u53d1 Flink \u4f5c\u4e1a,\u5176\u5b9e\u5c31\u662f\u5229\u7528 Flink \u63d0\u4f9b\u7684 API , \u6309\u7167 Flink \u8981\u6c42\u7684\u5f00\u53d1\u65b9\u5f0f, \u5199\u4e00\u4e2a\u53ef\u4ee5\u6267\u884c\u7684(\u5fc5\u987b\u6709main()\u51fd\u6570)\u7684\u7a0b\u5e8f, \u5728\u7a0b\u5e8f\u91cc\u63a5\u5165\u5404\u79cdConnector\u7ecf\u8fc7\u4e00\u7cfb\u5217\u7684\u7b97\u5b50\u64cd\u4f5c, \u6700\u7ec8\u5c06\u6570\u636e\u901a\u8fc7Connector sink \u5230\u76ee\u6807\u5b58\u50a8,",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/development/model.md",sourceDirName:"development",slug:"/development/dev-model",permalink:"/zh-CN/docs/development/dev-model",draft:!1,editUrl:"https://github.com/apache/incubator-streampark-website/edit/dev/i18n/zh-CN/docusaurus-plugin-content-docs/current/development/model.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"dev-model",title:"\u7f16\u7a0b\u6a21\u578b",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"LDAP \u5feb\u901f\u4f7f\u7528\u6559\u7a0b",permalink:"/zh-CN/docs/user-guide/LDAP"},next:{title:"\u9879\u76ee\u914d\u7f6e",permalink:"/zh-CN/docs/development/config"}},s={},k=[{value:"\u67b6\u6784",id:"\u67b6\u6784",level:2},{value:"\u7f16\u7a0b\u6a21\u578b",id:"\u7f16\u7a0b\u6a21\u578b",level:2},{value:"DataStream",id:"datastream",level:3},{value:"Flink Sql",id:"flink-sql",level:3},{value:"TableEnvironment",id:"tableenvironment",level:4},{value:"StreamTableEnvironment",id:"streamtableenvironment",level:4},{value:"RunTime Context",id:"runtime-context",level:2},{value:"StreamingContext",id:"streamingcontext",level:3},{value:"TableContext",id:"tablecontext",level:3},{value:"StreamTableContext",id:"streamtablecontext",level:3},{value:"\u751f\u547d\u5468\u671f",id:"\u751f\u547d\u5468\u671f",level:2},{value:"\u751f\u547d\u5468\u671f\u4e4b \u2014 init",id:"\u751f\u547d\u5468\u671f\u4e4b--init",level:3},{value:"\u751f\u547d\u5468\u671f\u4e4b \u2014 config",id:"\u751f\u547d\u5468\u671f\u4e4b--config",level:3},{value:"\u751f\u547d\u5468\u671f\u4e4b \u2014 ready",id:"\u751f\u547d\u5468\u671f\u4e4b--ready",level:3},{value:"\u751f\u547d\u5468\u671f\u4e4b \u2014 handle",id:"\u751f\u547d\u5468\u671f\u4e4b--handle",level:3},{value:"\u751f\u547d\u5468\u671f\u4e4b \u2014 start",id:"\u751f\u547d\u5468\u671f\u4e4b--start",level:3},{value:"\u751f\u547d\u5468\u671f\u4e4b \u2014 destroy",id:"\u751f\u547d\u5468\u671f\u4e4b--destroy",level:3},{value:"\u76ee\u5f55\u7ed3\u6784",id:"\u76ee\u5f55\u7ed3\u6784",level:2},{value:"\u6253\u5305\u90e8\u7f72",id:"\u6253\u5305\u90e8\u7f72",level:2},{value:"\u542f\u52a8\u547d\u4ee4",id:"\u542f\u52a8\u547d\u4ee4",level:2}],d={toc:k};function c(e){let{components:n,...o}=e;return(0,r.kt)("wrapper",(0,t.Z)({},d,o,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\u4efb\u4f55\u6846\u67b6\u90fd\u6709\u4e00\u4e9b\u8981\u9075\u5faa\u7684\u89c4\u5219\u548c\u7ea6\u5b9a, \u6211\u4eec\u53ea\u6709\u9075\u5faa\u5e76\u638c\u63e1\u4e86\u8fd9\u4e9b\u89c4\u5219, \u624d\u80fd\u66f4\u52a0\u6e38\u5203\u6709\u4f59\u7684\u4f7f\u7528, \u4f7f\u5176\u53d1\u6325\u4e8b\u534a\u529f\u500d\u7684\u6548\u679c, \u6211\u4eec\u5f00\u53d1 Flink \u4f5c\u4e1a,\u5176\u5b9e\u5c31\u662f\u5229\u7528 Flink \u63d0\u4f9b\u7684 API , \u6309\u7167 Flink \u8981\u6c42\u7684\u5f00\u53d1\u65b9\u5f0f, \u5199\u4e00\u4e2a\u53ef\u4ee5\u6267\u884c\u7684(\u5fc5\u987b\u6709",(0,r.kt)("inlineCode",{parentName:"p"},"main()"),"\u51fd\u6570)\u7684\u7a0b\u5e8f, \u5728\u7a0b\u5e8f\u91cc\u63a5\u5165\u5404\u79cd",(0,r.kt)("inlineCode",{parentName:"p"},"Connector"),"\u7ecf\u8fc7\u4e00\u7cfb\u5217\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"\u7b97\u5b50"),"\u64cd\u4f5c, \u6700\u7ec8\u5c06\u6570\u636e\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"Connector")," sink \u5230\u76ee\u6807\u5b58\u50a8,\n\u6211\u4eec\u628a\u8fd9\u79cd\u6309\u7167\u67d0\u79cd\u7ea6\u5b9a\u7684\u89c4\u5219\u53bb\u9010\u6b65\u7f16\u7a0b\u7684\u65b9\u5f0f\u79f0\u4e4b\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"\u7f16\u7a0b\u6a21\u578b"),", \u8fd9\u4e00\u7ae0\u8282\u6211\u4eec\u5c31\u6765\u804a\u804a StreamPark \u7684",(0,r.kt)("inlineCode",{parentName:"p"},"\u7f16\u7a0b\u6a21\u578b"),"\u4ee5\u53ca\u5f00\u53d1\u6ce8\u610f\u4e8b\u9879"),(0,r.kt)("p",null,"\u6211\u4eec\u4ece\u8fd9\u51e0\u4e2a\u65b9\u9762\u5f00\u59cb\u5165\u624b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u67b6\u6784"),(0,r.kt)("li",{parentName:"ul"},"\u7f16\u7a0b\u6a21\u578b"),(0,r.kt)("li",{parentName:"ul"},"RunTime Context"),(0,r.kt)("li",{parentName:"ul"},"\u751f\u547d\u5468\u671f"),(0,r.kt)("li",{parentName:"ul"},"\u76ee\u5f55\u7ed3\u6784"),(0,r.kt)("li",{parentName:"ul"},"\u6253\u5305\u90e8\u7f72")),(0,r.kt)("h2",{id:"\u67b6\u6784"},"\u67b6\u6784"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"%22/doc/image/streampark_archite.png%22"})),(0,r.kt)("h2",{id:"\u7f16\u7a0b\u6a21\u578b"},"\u7f16\u7a0b\u6a21\u578b"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"streampark-core")," \u5b9a\u4f4d\u662f\u7f16\u7a0b\u65f6\u6846\u67b6,\u5feb\u901f\u5f00\u53d1\u811a\u624b\u67b6,\u4e13\u95e8\u4e3a\u7b80\u5316 Flink \u5f00\u53d1\u800c\u751f,\u5f00\u53d1\u8005\u5728\u5f00\u53d1\u9636\u6bb5\u4f1a\u4f7f\u7528\u5230\u8be5\u6a21\u5757,\u4e0b\u9762\u6211\u4eec\u6765\u770b\u770b ",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"Flink Sql")," \u7528 StreamPark \u6765\u5f00\u53d1\u7f16\u7a0b\u6a21\u578b\u662f\u4ec0\u4e48\u6837\u7684,\u6709\u4ec0\u4e48\u89c4\u8303\u548c\u8981\u6c42"),(0,r.kt)("h3",{id:"datastream"},"DataStream"),(0,r.kt)("p",null," StreamPark \u63d0\u4f9b\u4e86",(0,r.kt)("inlineCode",{parentName:"p"},"scala"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"Java"),"\u4e24\u79cd API \u6765\u5f00\u53d1 ",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream")," \u7a0b\u5e8f,\u5177\u4f53\u4ee3\u7801\u5f00\u53d1\u5982\u4e0b"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"scala",label:"Scala",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"import org.apache.streampark.flink.core.scala.FlinkStreaming\nimport org.apache.flink.api.scala._\n\nobject MyFlinkApp extends FlinkStreaming {\n\n    override def handle(): Unit = {\n        ...\n    }\n}\n"))),(0,r.kt)(i.Z,{value:"Java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class MyFlinkJavaApp {\n\n    public static void main(String[] args) {\n        StreamEnvConfig JavaConfig = new StreamEnvConfig(args, (environment, parameterTool) -> {\n            //\u7528\u6237\u53ef\u4ee5\u7ed9environment\u8bbe\u7f6e\u53c2\u6570...\n            System.out.println("environment argument set...");\n        });\n\n        StreamingContext context = new StreamingContext(JavaConfig);\n\n        ....\n\n        context.start();\n    }\n}\n')))),(0,r.kt)("p",null,"\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"scala")," API \u5f00\u53d1,\u7a0b\u5e8f\u5fc5\u987b\u8981\u7ee7\u627f ",(0,r.kt)("inlineCode",{parentName:"p"},"FlinkStreaming")," ,\u7ee7\u627f\u4e4b\u540e,\u4f1a\u5f3a\u5236\u8ba9\u5f00\u53d1\u8005\u5b9e\u73b0 ",(0,r.kt)("inlineCode",{parentName:"p"},"handle()")," \u65b9\u6cd5,\u8be5\u65b9\u6cd5\u5c31\u662f\u7528\u6237\u5199\u4ee3\u7801\u7684\u5165\u53e3, \u540c\u65f6 ",(0,r.kt)("inlineCode",{parentName:"p"},"streamingContext")," \u4f9b\u5f00\u53d1\u8005\u4f7f\u7528"),(0,r.kt)("p",null,"\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"Java")," API \u5f00\u53d1\u7531\u4e8e\u8bed\u8a00\u672c\u8eab\u7684\u9650\u5236\u6ca1\u6cd5\u7701\u6389 ",(0,r.kt)("inlineCode",{parentName:"p"},"main()")," \u65b9\u6cd5,\u6240\u4ee5\u4f1a\u662f\u4e00\u4e2a\u6807\u51c6\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"main()")," \u51fd\u6570, \u9700\u8981\u7528\u6237\u624b\u52a8\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamingContext"),",",(0,r.kt)("inlineCode",{parentName:"p"},"StreamingContext")," \u662f\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u7c7b,\u7a0d\u540e\u4f1a\u4ecb\u7ecd"),(0,r.kt)("admonition",{title:"\u63d0\u793a",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"\u4ee5\u4e0a\u51e0\u884c ",(0,r.kt)("inlineCode",{parentName:"p"},"scala")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"Java")," \u4ee3\u7801\u5c31\u662f\u7528 StreamPark \u5f00\u53d1 ",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream")," \u5fc5\u4e0d\u53ef\u5c11\u7684\u6700\u57fa\u672c\u7684\u9aa8\u67b6\u4ee3\u7801,\u7528 StreamPark \u5f00\u53d1 ",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream")," \u7a0b\u5e8f,\u4ece\u8fd9\u51e0\u884c\u4ee3\u7801\u5f00\u59cb, Java API \u5f00\u53d1\u9700\u8981\u5f00\u53d1\u8005\u624b\u52a8\u542f\u52a8\u4efb\u52a1 ",(0,r.kt)("inlineCode",{parentName:"p"},"start"))),(0,r.kt)("h3",{id:"flink-sql"},"Flink Sql"),(0,r.kt)("p",null,"TableEnvironment \u662f\u7528\u6765\u521b\u5efa Table & SQL \u7a0b\u5e8f\u7684\u4e0a\u4e0b\u6587\u6267\u884c\u73af\u5883,\u4e5f\u662f Table & SQL \u7a0b\u5e8f\u7684\u5165\u53e3,Table & SQL \u7a0b\u5e8f\u7684\u6240\u6709\u529f\u80fd\u90fd\u662f\u56f4\u7ed5 TableEnvironment \u8fd9\u4e2a\u6838\u5fc3\u7c7b\u5c55\u5f00\u7684\u3002TableEnvironment \u7684\u4e3b\u8981\u804c\u80fd\u5305\u62ec\uff1a\u5bf9\u63a5\u5916\u90e8\u7cfb\u7edf\uff0c\u8868\u53ca\u5143\u6570\u636e\u7684\u6ce8\u518c\u548c\u68c0\u7d22\uff0c\u6267\u884c SQL \u8bed\u53e5\uff0c\u63d0\u4f9b\u66f4\u8be6\u7ec6\u7684\u914d\u7f6e\u9009\u9879\u3002"),(0,r.kt)("p",null,"Flink \u793e\u533a\u4e00\u76f4\u5728\u63a8\u8fdb DataStream \u7684\u6279\u5904\u7406\u80fd\u529b,\u7edf\u4e00\u6d41\u6279\u4e00\u4f53,\u5728 Flink 1.12 \u4e2d\u6d41\u6279\u4e00\u4f53\u771f\u6b63\u7edf\u4e00\u8fd0\u884c,\u8bf8\u591a\u5386\u53f2 API \u5982: DataSet API, BatchTableEnvironment API \u7b49\u88ab\u5e9f\u5f03,\u9000\u51fa\u5386\u53f2\u821e\u53f0,\u5b98\u65b9\u63a8\u8350\u4f7f\u7528 ",(0,r.kt)("strong",{parentName:"p"},"TableEnvironment")," \u548c ",(0,r.kt)("strong",{parentName:"p"},"StreamTableEnvironment")),(0,r.kt)("p",null," StreamPark \u9488\u5bf9 ",(0,r.kt)("strong",{parentName:"p"},"TableEnvironment")," \u548c ",(0,r.kt)("strong",{parentName:"p"},"StreamTableEnvironment")," \u8fd9\u4e24\u79cd\u73af\u5883\u7684\u5f00\u53d1,\u63d0\u4f9b\u4e86\u5bf9\u5e94\u7684\u66f4\u65b9\u4fbf\u5feb\u6377\u7684 API"),(0,r.kt)("h4",{id:"tableenvironment"},"TableEnvironment"),(0,r.kt)("p",null,"\u5f00\u53d1Table & SQL \u4f5c\u4e1a, TableEnvironment \u4f1a\u662f Flink \u63a8\u8350\u4f7f\u7528\u7684\u5165\u53e3\u7c7b, \u540c\u65f6\u80fd\u652f\u6301 Java API \u548c Scala API,\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5728 StreamPark \u5982\u4f55\u5f00\u53d1\u4e00\u4e2a TableEnvironment \u7c7b\u578b\u7684\u4f5c\u4e1a"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"scala",label:"Scala",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"import org.apache.streampark.flink.core.scala.FlinkTable\n\nobject TableApp extends FlinkTable {\n\n    override def handle(): Unit = {\n    ...\n    }\n\n}\n"))),(0,r.kt)(i.Z,{value:"Java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'import org.apache.streampark.flink.core.scala.TableContext;\nimport org.apache.streampark.flink.core.scala.util.TableEnvConfig;\n\npublic class JavaTableApp {\n\n    public static void main(String[] args) {\n        TableEnvConfig tableEnvConfig = new TableEnvConfig(args, null);\n        TableContext context = new TableContext(tableEnvConfig);\n        ...\n        context.start("Flink SQl Job");\n    }\n}\n')))),(0,r.kt)("admonition",{title:"\u63d0\u793a",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"\u4ee5\u4e0a\u51e0\u884c Scala \u548c Java \u4ee3\u7801\u5c31\u662f\u7528 StreamPark \u5f00\u53d1 TableEnvironment \u5fc5\u4e0d\u53ef\u5c11\u7684\u6700\u57fa\u672c\u7684\u9aa8\u67b6\u4ee3\u7801,\u7528 StreamPark \u5f00\u53d1 TableEnvironment \u7a0b\u5e8f,\u4ece\u8fd9\u51e0\u884c\u4ee3\u7801\u5f00\u59cb,\nScala API \u5fc5\u987b\u7ee7\u627f FlinkTable, Java API \u5f00\u53d1\u9700\u8981\u624b\u52a8\u6784\u9020 TableContext ,\u9700\u8981\u5f00\u53d1\u8005\u624b\u52a8\u542f\u52a8\u4efb\u52a1 ",(0,r.kt)("inlineCode",{parentName:"p"},"start"))),(0,r.kt)("h4",{id:"streamtableenvironment"},"StreamTableEnvironment"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvironment")," \u7528\u4e8e\u6d41\u8ba1\u7b97\u573a\u666f,\u6d41\u8ba1\u7b97\u7684\u5bf9\u8c61\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream"),"\u3002\u76f8\u6bd4 ",(0,r.kt)("inlineCode",{parentName:"p"},"TableEnvironment"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvironment")," \u63d0\u4f9b\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"Table")," \u4e4b\u95f4\u76f8\u4e92\u8f6c\u6362\u7684\u63a5\u53e3,\u5982\u679c\u7528\u6237\u7684\u7a0b\u5e8f\u9664\u4e86\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"Table API")," & ",(0,r.kt)("inlineCode",{parentName:"p"},"SQL")," \u7f16\u5199\u5916,\u8fd8\u9700\u8981\u4f7f\u7528\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream API"),",\u5219\u9700\u8981\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvironment"),"\u3002\n\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5728 StreamPark \u5982\u4f55\u5f00\u53d1\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvironment")," \u7c7b\u578b\u7684\u4f5c\u4e1a"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"scala",label:"Scala",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"package org.apache.streampark.test.tablesql\n\nimport org.apache.streampark.flink.core.scala.FlinkStreamTable\n\nobject StreamTableApp extends FlinkStreamTable {\n\n  override def handle(): Unit = {\n    ...\n  }\n\n}\n"))),(0,r.kt)(i.Z,{value:"Java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'\nimport org.apache.streampark.flink.core.scala.StreamTableContext;\nimport org.apache.streampark.flink.core.scala.util.StreamTableEnvConfig;\n\npublic class JavaStreamTableApp {\n\n    public static void main(String[] args) {\n        StreamTableEnvConfig JavaConfig = new StreamTableEnvConfig(args, null, null);\n        StreamTableContext context = new StreamTableContext(JavaConfig);\n\n        ...\n\n        context.start("Flink SQl Job");\n    }\n}\n')))),(0,r.kt)("admonition",{title:"\u7279\u522b\u6ce8\u610f",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"\u4ee5\u4e0a\u51e0\u884c scala \u548c Java \u4ee3\u7801\u5c31\u662f\u7528 StreamPark \u5f00\u53d1 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvironment")," \u5fc5\u4e0d\u53ef\u5c11\u7684\u6700\u57fa\u672c\u7684\u9aa8\u67b6\u4ee3\u7801,\u7528 StreamPark \u5f00\u53d1 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvironment")," \u7a0b\u5e8f,\u4ece\u8fd9\u51e0\u884c\u4ee3\u7801\u5f00\u59cb,Java \u4ee3\u7801\u9700\u8981\u624b\u52a8\u6784\u9020 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableContext"),",",(0,r.kt)("inlineCode",{parentName:"p"},"Java API"),"\u5f00\u53d1\u9700\u8981\u5f00\u53d1\u8005\u624b\u52a8\u542f\u52a8\u4efb\u52a1",(0,r.kt)("inlineCode",{parentName:"p"},"start"))),(0,r.kt)("h2",{id:"runtime-context"},"RunTime Context"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"RunTime Context")," \u2014 ",(0,r.kt)("strong",{parentName:"p"},"StreamingContext")," , ",(0,r.kt)("strong",{parentName:"p"},"TableContext")," , ",(0,r.kt)("strong",{parentName:"p"},"StreamTableContext")," \u662f StreamPark \u4e2d\u51e0\u4e2a\u975e\u5e38\u91cd\u8981\u4e09\u4e2a\u5bf9\u8c61,\u63a5\u4e0b\u6765\u6211\u4eec\u5177\u4f53\u770b\u770b\u8fd9\u4e09\u4e2a ",(0,r.kt)("strong",{parentName:"p"},"Context")," \u7684\u5b9a\u4e49\u548c\u4f5c\u7528"),(0,r.kt)("center",null,(0,r.kt)("img",{src:"/doc/image/streampark_coreapi.png",width:"60%"})),(0,r.kt)("h3",{id:"streamingcontext"},"StreamingContext"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"StreamingContext")," \u7ee7\u627f\u81ea ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamExecutionEnvironment"),", \u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamExecutionEnvironment")," \u7684\u57fa\u7840\u4e4b\u4e0a\u589e\u52a0\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"ParameterTool")," ,\u7b80\u5355\u53ef\u4ee5\u7406\u89e3\u4e3a:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"StreamingContext")," = ",(0,r.kt)("strong",{parentName:"p"},"ParameterTool")," + ",(0,r.kt)("strong",{parentName:"p"},"StreamExecutionEnvironment")),(0,r.kt)("p",null,"\u5177\u4f53\u5b9a\u4e49\u5982\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"class StreamingContext(val parameter: ParameterTool, private val environment: StreamExecutionEnvironment)\n    extends StreamExecutionEnvironment(environment.getJavaEnv) {\n\n  /**\n   * for scala\n   *\n   * @param args\n   */\n  def this(args: (ParameterTool, StreamExecutionEnvironment)) = this(args._1, args._2)\n\n  /**\n   * for Java\n   *\n   * @param args\n   */\n  def this(args: StreamEnvConfig) = this(FlinkStreamingInitializer.initJavaStream(args))\n\n  ...\n}\n")),(0,r.kt)("admonition",{title:"\u7279\u522b\u6ce8\u610f",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"\u8fd9\u4e2a\u5bf9\u8c61\u975e\u5e38\u91cd\u8981,\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream")," \u4f5c\u4e1a\u4e2d\u4f1a\u8d2f\u7a7f\u6574\u4e2a\u4efb\u52a1\u7684\u751f\u547d\u5468\u671f, ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamingContext")," \u672c\u8eab\u7ee7\u627f\u81ea ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamExecutionEnvironment")," ,\u914d\u7f6e\u6587\u4ef6\u4f1a\u5b8c\u5168\u878d\u5408\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamingContext")," \u4e2d,\u8fd9\u6837\u5c31\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u4ece ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamingContext")," \u4e2d\u83b7\u53d6\u5404\u79cd\u53c2\u6570")),(0,r.kt)("p",null,"\u5728 StreamPark \u4e2d, ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamingContext")," \u4e5f\u662f Java API \u7f16\u5199 ",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream")," \u4f5c\u4e1a\u7684\u5165\u53e3\u7c7b, ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamingContext")," \u7684\u6784\u9020\u65b9\u6cd5\u4e2d\u6709\u4e00\u4e2a\u662f\u4e13\u95e8\u4e3a Java API \u6253\u9020\u7684,\u8be5\u6784\u9020\u51fd\u6570\u5b9a\u4e49\u5982\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"/**\n * for Java\n * @param args\n*/\ndef this(args: StreamEnvConfig) = this(FlinkStreamingInitializer.initJavaStream(args))\n")),(0,r.kt)("p",null,"\u7531\u4e0a\u9762\u7684\u6784\u9020\u65b9\u6cd5\u53ef\u4ee5\u770b\u5230\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamingContext"),",\u9700\u8981\u4f20\u5165\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamEnvConfig")," \u5bf9\u8c61, ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamEnvConfig")," \u5b9a\u4e49\u5982\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"class StreamEnvConfig(val args: Array[String], val conf: StreamEnvConfigFunction)\n")),(0,r.kt)("p",null,"StreamEnvConfig\u7684\u6784\u9020\u65b9\u6cd5\u4e2d,\u5176\u4e2d"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"args")," \u4e3a\u542f\u52a8\u53c2\u6570,\u5fc5\u987b\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"main")," \u65b9\u6cd5\u91cc\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"args")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"conf")," \u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"StreamEnvConfigFunction")," \u7c7b\u578b\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"Function"))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"StreamEnvConfigFunction")," \u5b9a\u4e49\u5982\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@FunctionalInterface\npublic interface StreamEnvConfigFunction {\n    /**\n     * \u7528\u4e8e\u521d\u59cb\u5316StreamExecutionEnvironment\u7684\u65f6\u5019,\u7528\u4e8e\u53ef\u4ee5\u5b9e\u73b0\u8be5\u51fd\u6570,\u81ea\u5b9a\u4e49\u8981\u8bbe\u7f6e\u7684\u53c2\u6570...\n     *\n     * @param environment\n     * @param parameterTool\n     */\n    void configuration(StreamExecutionEnvironment environment, ParameterTool parameterTool);\n}\n")),(0,r.kt)("p",null,"\u8be5",(0,r.kt)("inlineCode",{parentName:"p"},"Function"),"\u7684\u4f5c\u7528\u662f\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7\u94a9\u5b50\u7684\u65b9\u5f0f\u8bbe\u7f6e\u66f4\u591a\u7684\u53c2\u6570,\u4f1a\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"parameter")," (\u89e3\u6790\u914d\u7f6e\u6587\u4ef6\u91cc\u6240\u6709\u7684\u53c2\u6570)\u548c\u521d\u59cb\u5316\u597d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamExecutionEnvironment")," \u5bf9\u8c61\u4f20\u7ed9\u5f00\u53d1\u8005\u53bb\u5b8c\u6210\u66f4\u591a\u7684\u53c2\u6570\u8bbe\u7f6e,\u5982:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'StreamEnvConfig JavaConfig = new StreamEnvConfig(args, (environment, parameterTool) -> {\n    System.out.println("environment argument set...");\n    environment.getConfig().enableForceAvro();\n});\n\nStreamingContext context = new StreamingContext(JavaConfig);\n')),(0,r.kt)("h3",{id:"tablecontext"},"TableContext"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"TableContext")," \u7ee7\u627f\u81ea",(0,r.kt)("inlineCode",{parentName:"p"}," TableEnvironment")," ,\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"TableEnvironment")," \u7684\u57fa\u7840\u4e4b\u4e0a\u589e\u52a0\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"ParameterTool")," ,\u7528\u6765\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"Table")," & ",(0,r.kt)("inlineCode",{parentName:"p"},"SQL")," \u7a0b\u5e8f\u7684\u4e0a\u4e0b\u6587\u6267\u884c\u73af\u5883,\u7b80\u5355\u53ef\u4ee5\u7406\u89e3\u4e3a:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"TableContext")," = ",(0,r.kt)("strong",{parentName:"p"},"ParameterTool")," + ",(0,r.kt)("strong",{parentName:"p"},"TableEnvironment")),(0,r.kt)("p",null,"\u5177\u4f53\u5b9a\u4e49\u5982\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"class TableContext(val parameter: ParameterTool,\n                   private val tableEnv: TableEnvironment)\n                   extends TableEnvironment\n                   with FlinkTableTrait {\n\n  /**\n   * for scala\n   *\n   * @param args\n   */\n  def this(args: (ParameterTool, TableEnvironment)) = this(args._1, args._2)\n\n  /**\n   * for Java\n   * @param args\n   */\n  def this(args: TableEnvConfig) = this(FlinkTableInitializer.initJavaTable(args))\n\n  ...\n}\n")),(0,r.kt)("p",null,"\u5728 StreamPark \u4e2d,",(0,r.kt)("inlineCode",{parentName:"p"},"TableContext")," \u4e5f\u662f Java API \u7f16\u5199 ",(0,r.kt)("inlineCode",{parentName:"p"},"TableEnvironment")," \u7c7b\u578b\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Table Sql")," \u4f5c\u4e1a\u7684\u5165\u53e3\u7c7b,",(0,r.kt)("inlineCode",{parentName:"p"},"TableContext")," \u7684\u6784\u9020\u65b9\u6cd5\u4e2d\u6709\u4e00\u4e2a\u662f\u4e13\u95e8\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"Java API")," \u6253\u9020\u7684,\u8be5\u6784\u9020\u51fd\u6570\u5b9a\u4e49\u5982\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"\n/**\n* for Java\n* @param args\n*/\ndef this(args: TableEnvConfig) = this(FlinkTableInitializer.initJavaTable(args))\n")),(0,r.kt)("p",null,"\u7531\u4e0a\u9762\u7684\u6784\u9020\u65b9\u6cd5\u53ef\u4ee5\u770b\u5230\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"TableContext"),",\u9700\u8981\u4f20\u5165\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"TableEnvConfig")," \u5bf9\u8c61, ",(0,r.kt)("inlineCode",{parentName:"p"},"TableEnvConfig")," \u5b9a\u4e49\u5982\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"class TableEnvConfig(val args: Array[String], val conf: TableEnvConfigFunction)\n")),(0,r.kt)("p",null,"TableEnvConfig\u7684\u6784\u9020\u65b9\u6cd5\u4e2d,\u5176\u4e2d"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"args")," \u4e3a\u542f\u52a8\u53c2\u6570,\u5fc5\u987b\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"main")," \u65b9\u6cd5\u91cc\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"args")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"conf")," \u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"TableEnvConfigFunction")," \u7c7b\u578b\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"Function"))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"TableEnvConfigFunction")," \u5b9a\u4e49\u5982\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@FunctionalInterface\npublic interface TableEnvConfigFunction {\n    /**\n     * \u7528\u4e8e\u521d\u59cb\u5316TableEnvironment\u7684\u65f6\u5019,\u7528\u4e8e\u53ef\u4ee5\u5b9e\u73b0\u8be5\u51fd\u6570,\u81ea\u5b9a\u4e49\u8981\u8bbe\u7f6e\u7684\u53c2\u6570...\n     *\n     * @param tableConfig\n     * @param parameterTool\n     */\n    void configuration(TableConfig tableConfig, ParameterTool parameterTool);\n\n}\n")),(0,r.kt)("p",null,"\u8be5 ",(0,r.kt)("inlineCode",{parentName:"p"},"Function")," \u7684\u4f5c\u7528\u662f\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7\u94a9\u5b50\u7684\u65b9\u5f0f\u8bbe\u7f6e\u66f4\u591a\u7684\u53c2\u6570,\u4f1a\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"parameter"),"(\u89e3\u6790\u914d\u7f6e\u6587\u4ef6\u91cc\u6240\u6709\u7684\u53c2\u6570)\u548c\u521d\u59cb\u5316\u597d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"TableEnvironment")," \u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"TableConfig")," \u5bf9\u8c61\u4f20\u7ed9\u5f00\u53d1\u8005\u53bb\u5b8c\u6210\u66f4\u591a\u7684\u53c2\u6570\u8bbe\u7f6e,\u5982:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'TableEnvConfig config = new TableEnvConfig(args,(tableConfig,parameterTool)->{\n    tableConfig.setLocalTimeZone(ZoneId.of("Asia/Shanghai"));\n});\nTableContext context = new TableContext(config);\n...\n')),(0,r.kt)("h3",{id:"streamtablecontext"},"StreamTableContext"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableContext")," \u7ee7\u627f\u81ea ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvironment"),",\u7528\u4e8e\u6d41\u8ba1\u7b97\u573a\u666f,\u6d41\u8ba1\u7b97\u7684\u5bf9\u8c61\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream"),", \u76f8\u6bd4 ",(0,r.kt)("inlineCode",{parentName:"p"},"TableEnvironment"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvironment")," \u63d0\u4f9b\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"Table")," \u4e4b\u95f4\u76f8\u4e92\u8f6c\u6362\u7684\u63a5\u53e3,\n",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableContext")," \u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvironment")," \u7684\u57fa\u7840\u4e4b\u4e0a\u589e\u52a0\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"ParameterTool"),",\u53c8\u76f4\u63a5\u63a5\u5165\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvironment")," \u7684API,\u7b80\u5355\u53ef\u4ee5\u7406\u89e3\u4e3a:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"StreamTableContext")," = ",(0,r.kt)("strong",{parentName:"p"},"ParameterTool")," + ",(0,r.kt)("strong",{parentName:"p"},"StreamTableEnvironment")," + ",(0,r.kt)("strong",{parentName:"p"},"StreamExecutionEnvironment")),(0,r.kt)("p",null,"\u5177\u4f53\u5b9a\u4e49\u5982\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"\nclass StreamTableContext(val parameter: ParameterTool,\n                         private val streamEnv: StreamExecutionEnvironment,\n                         private val tableEnv: StreamTableEnvironment)\n                         extends StreamTableEnvironment\n                         with FlinkTableTrait {\n\n  /**\n   * \u4e00\u65e6 Table \u88ab\u8f6c\u5316\u4e3a DataStream,\n   * \u5fc5\u987b\u4f7f\u7528 StreamExecutionEnvironment \u7684 execute \u65b9\u6cd5\u6267\u884c\u8be5 DataStream \u4f5c\u4e1a\u3002\n   */\n  private[scala] var isConvertedToDataStream: Boolean = false\n\n  /**\n   * for scala\n   *\n   * @param args\n   */\n  def this(args: (ParameterTool, StreamExecutionEnvironment, StreamTableEnvironment)) =\n  this(args._1, args._2, args._3)\n\n  /**\n   * for Java\n   *\n   * @param args\n   */\n  def this(args: StreamTableEnvConfig) = this(FlinkTableInitializer.initJavaStreamTable(args))\n  ...\n}\n")),(0,r.kt)("p",null,"\u5728StreamPark\u4e2d,",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableContext")," \u662f Java API \u7f16\u5199 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvironment")," \u7c7b\u578b\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Table Sql")," \u4f5c\u4e1a\u7684\u5165\u53e3\u7c7b,",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableContext")," \u7684\u6784\u9020\u65b9\u6cd5\u4e2d\u6709\u4e00\u4e2a\u662f\u4e13\u95e8\u4e3a Java API \u6253\u9020\u7684,\u8be5\u6784\u9020\u51fd\u6570\u5b9a\u4e49\u5982\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"\n  /**\n   * for Java\n   *\n   * @param args\n   */\ndef this(args: StreamTableEnvConfig) = this(FlinkTableInitializer.initJavaStreamTable(args))\n")),(0,r.kt)("p",null,"\u7531\u4e0a\u9762\u7684\u6784\u9020\u65b9\u6cd5\u53ef\u4ee5\u770b\u5230\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableContext")," ,\u9700\u8981\u4f20\u5165\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvConfig")," \u5bf9\u8c61,",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableEnvConfig")," \u5b9a\u4e49\u5982\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"class StreamTableEnvConfig (\n    val args: Array[String],\n    val streamConfig: StreamEnvConfigFunction,\n    val tableConfig: TableEnvConfigFunction\n)\n")),(0,r.kt)("p",null,"StreamTableEnvConfig \u7684\u6784\u9020\u65b9\u6cd5\u4e2d\u6709\u4e09\u4e2a\u53c2\u6570,\u5176\u4e2d"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"args")," \u4e3a\u542f\u52a8\u53c2\u6570,\u5fc5\u987b\u4e3a",(0,r.kt)("inlineCode",{parentName:"li"},"main"),"\u65b9\u6cd5\u91cc\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"args")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"streamConfig")," \u4e3a",(0,r.kt)("inlineCode",{parentName:"li"},"StreamEnvConfigFunction"),"\u7c7b\u578b\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"Function")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"tableConfig")," \u4e3a",(0,r.kt)("inlineCode",{parentName:"li"},"TableEnvConfigFunction"),"\u7c7b\u578b\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"Function"))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"StreamEnvConfigFunction"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"TableEnvConfigFunction")," \u5b9a\u4e49\u4e0a\u9762\u5df2\u7ecf\u8bb2\u8fc7,\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0"),(0,r.kt)("p",null,"\u8be5",(0,r.kt)("inlineCode",{parentName:"p"},"Function"),"\u7684\u4f5c\u7528\u662f\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7\u94a9\u5b50\u7684\u65b9\u5f0f\u8bbe\u7f6e\u66f4\u591a\u7684\u53c2\u6570,\u548c\u4e0a\u9762\u5176\u4ed6\u53c2\u6570\u8bbe\u7f6e\u4e0d\u540c\u7684\u662f,\u8be5",(0,r.kt)("inlineCode",{parentName:"p"},"Function"),"\u63d0\u4f9b\u4e86\u540c\u65f6\u8bbe\u7f6e",(0,r.kt)("inlineCode",{parentName:"p"},"StreamExecutionEnvironment"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"TableEnvironment"),"\u7684\u673a\u4f1a ,\u4f1a\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"parameter"),"\u548c\u521d\u59cb\u5316\u597d\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"StreamExecutionEnvironment"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"TableEnvironment"),"\u4e2d\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"TableConfig"),"\u5bf9\u8c61\u4f20\u7ed9\u5f00\u53d1\u8005\u53bb\u5b8c\u6210\u66f4\u591a\u7684\u53c2\u6570\u8bbe\u7f6e,\u5982:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'\nStreamTableEnvConfig JavaConfig = new StreamTableEnvConfig(args, (environment, parameterTool) -> {\n    environment.getConfig().enableForceAvro();\n}, (tableConfig, parameterTool) -> {\n    tableConfig.setLocalTimeZone(ZoneId.of("Asia/Shanghai"));\n});\n\nStreamTableContext context = new StreamTableContext(JavaConfig);\n\n...\n')),(0,r.kt)("admonition",{title:"\u7279\u522b\u63d0\u793a",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamTableContext")," \u4e2d\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamExecutionEnvironment")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"API"),", ",(0,r.kt)("strong",{parentName:"p"},"\u4ee5$\u6253\u5934\u7684\u65b9\u6cd5")," \u90fd\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamExecutionEnvironment")," \u7684 API"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("img",{src:a(8695).Z,width:"2024",height:"1378"}))),(0,r.kt)("h2",{id:"\u751f\u547d\u5468\u671f"},"\u751f\u547d\u5468\u671f"),(0,r.kt)("p",null,"\u751f\u547d\u5468\u671f\u7684\u6982\u5ff5\u76ee\u524d\u53ea\u9488\u5bf9 ",(0,r.kt)("inlineCode",{parentName:"p"},"scala")," API,\u8be5\u751f\u547d\u5468\u671f\u660e\u786e\u7684\u5b9a\u4e49\u4e86\u6574\u4e2a\u4efb\u52a1\u8fd0\u884c\u7684\u5168\u8fc7\u7a0b ,\u4f46\u51e1\u7ee7\u627f\u81ea ",(0,r.kt)("inlineCode",{parentName:"p"},"FlinkStreaming")," \u6216 ",(0,r.kt)("inlineCode",{parentName:"p"},"FlinkTable")," \u6216 ",(0,r.kt)("inlineCode",{parentName:"p"},"StreamingTable")," \u5c31\u4f1a\u6309\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u6267\u884c,\u751f\u547d\u5468\u671f\u7684\u6838\u5fc3\u65b9\u6cd5\u5982\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"\n final def main(args: Array[String]): Unit = {\n    init(args)\n    ready()\n    handle()\n    jobExecutionResult = context.start()\n    destroy()\n  }\n\n  private[this] def init(args: Array[String]): Unit = {\n    SystemPropertyUtils.setAppHome(KEY_APP_HOME, classOf[FlinkStreaming])\n    context = new StreamingContext(FlinkStreamingInitializer.initStream(args, config))\n  }\n\n  /**\n   * \u7528\u6237\u53ef\u8986\u76d6\u6b21\u65b9\u6cd5...\n   *\n   */\n  def ready(): Unit = {}\n\n  def config(env: StreamExecutionEnvironment, parameter: ParameterTool): Unit = {}\n\n  def handle(): Unit\n\n  def destroy(): Unit = {}\n\n")),(0,r.kt)("p",null,"\u751f\u547d\u5468\u671f\u5982\u4e0b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"init"),"          \u914d\u7f6e\u6587\u4ef6\u521d\u59cb\u5316\u9636\u6bb5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"config"),"        \u5f00\u53d1\u8005\u624b\u52a8\u8bbe\u7f6e\u53c2\u6570\u9636\u6bb5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ready"),"         \u542f\u52a8\u4e4b\u524d\u6267\u884c\u81ea\u5b9a\u4e49\u52a8\u4f5c\u9636\u6bb5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"handle"),"        \u5f00\u53d1\u8005\u4ee3\u7801\u63a5\u5165\u9636\u6bb5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"start"),"         \u7a0b\u5e8f\u542f\u52a8\u9636\u6bb5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"destroy"),"       \u9500\u6bc1\u9636\u6bb5")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Life Cycle",src:a(6206).Z,width:"1790",height:"1560"})),(0,r.kt)("h3",{id:"\u751f\u547d\u5468\u671f\u4e4b--init"},"\u751f\u547d\u5468\u671f\u4e4b \u2014 init"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"init")," \u9636\u6bb5,\u6846\u67b6\u4f1a\u81ea\u52a8\u89e3\u6790\u4f20\u5165\u7684\u914d\u7f6e\u6587\u4ef6,\u6309\u7167\u91cc\u9762\u7684\u5b9a\u4e49\u7684\u5404\u79cd\u53c2\u6570\u521d\u59cb\u5316",(0,r.kt)("inlineCode",{parentName:"p"},"StreamExecutionEnvironment"),",\u8fd9\u4e00\u6b65\u662f\u6846\u67b6\u81ea\u52a8\u6267\u884c,\u4e0d\u9700\u8981\u5f00\u53d1\u8005\u53c2\u4e0e"),(0,r.kt)("h3",{id:"\u751f\u547d\u5468\u671f\u4e4b--config"},"\u751f\u547d\u5468\u671f\u4e4b \u2014 config"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"config")," \u9636\u6bb5\u7684\u76ee\u7684\u662f\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7\u94a9\u5b50\u7684\u65b9\u5f0f\u8bbe\u7f6e\u66f4\u591a\u7684\u53c2\u6570(\u7ea6\u5b9a\u7684\u914d\u7f6e\u6587\u4ef6\u4ee5\u5916\u7684\u5176\u4ed6\u53c2\u6570),\u5728 ",(0,r.kt)("strong",{parentName:"p"},"config")," \u9636\u6bb5\u4f1a\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"parameter"),"(",(0,r.kt)("em",{parentName:"p"},"init")," \u9636\u6bb5\u89e3\u6790\u7684\u914d\u7f6e\u6587\u4ef6\u91cc\u6240\u6709\u7684\u53c2\u6570)\u548c",(0,r.kt)("em",{parentName:"p"},"init")," \u9636\u6bb5\u521d\u59cb\u5316\u597d\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"StreamExecutionEnvironment"),"\u5bf9\u8c61\u4f20\u7ed9\u5f00\u53d1\u8005,\n\u8fd9\u6837\u5f00\u53d1\u8005\u5c31\u53ef\u4ee5\u914d\u7f6e\u66f4\u591a\u7684\u53c2\u6570"),(0,r.kt)("admonition",{title:"\u8bf4\u660e",type:"note"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"config")," \u9636\u6bb5\u662f\u9700\u8981\u5f00\u53d1\u8005\u53c2\u4e0e\u7684\u9636\u6bb5,\u662f\u53ef\u9009\u7684\u9636\u6bb5")),(0,r.kt)("h3",{id:"\u751f\u547d\u5468\u671f\u4e4b--ready"},"\u751f\u547d\u5468\u671f\u4e4b \u2014 ready"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"ready")," \u9636\u6bb5\u662f\u5728\u53c2\u6570\u90fd\u8bbe\u7f6e\u5b8c\u6bd5\u4e86,\u7ed9\u5f00\u53d1\u8005\u63d0\u4f9b\u7684\u4e00\u4e2a\u7528\u4e8e\u505a\u5176\u4ed6\u52a8\u4f5c\u7684\u5165\u53e3, \u8be5\u9636\u6bb5\u662f\u5728",(0,r.kt)("strong",{parentName:"p"},"\u521d\u59cb\u5316\u5b8c\u6210\u4e4b\u540e"),"\u5728",(0,r.kt)("strong",{parentName:"p"},"\u7a0b\u5e8f\u542f\u52a8\u4e4b\u524d"),"\u8fdb\u884c"),(0,r.kt)("admonition",{title:"\u8bf4\u660e",type:"note"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"ready")," \u9636\u6bb5\u662f\u9700\u8981\u5f00\u53d1\u8005\u53c2\u4e0e\u7684\u9636\u6bb5,\u662f\u53ef\u9009\u7684\u9636\u6bb5")),(0,r.kt)("h3",{id:"\u751f\u547d\u5468\u671f\u4e4b--handle"},"\u751f\u547d\u5468\u671f\u4e4b \u2014 handle"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"handle")," \u9636\u6bb5\u662f\u63a5\u5165\u5f00\u53d1\u8005\u7f16\u5199\u7684\u4ee3\u7801\u7684\u9636\u6bb5,\u662f\u5f00\u53d1\u8005\u7f16\u5199\u4ee3\u7801\u7684\u5165\u53e3,\u4e5f\u662f\u6700\u91cd\u8981\u7684\u4e00\u4e2a\u9636\u6bb5, \u8fd9\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"handle")," \u65b9\u6cd5\u4f1a\u5f3a\u5236\u8ba9\u5f00\u53d1\u8005\u53bb\u5b9e\u73b0"),(0,r.kt)("admonition",{title:"\u8bf4\u660e",type:"note"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"handle")," \u9636\u6bb5\u662f\u9700\u8981\u5f00\u53d1\u8005\u53c2\u4e0e\u7684\u9636\u6bb5,\u662f\u5fc5\u987b\u7684\u9636\u6bb5")),(0,r.kt)("h3",{id:"\u751f\u547d\u5468\u671f\u4e4b--start"},"\u751f\u547d\u5468\u671f\u4e4b \u2014 start"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"start")," \u9636\u6bb5,\u987e\u540d\u601d\u4e49,\u8fd9\u4e2a\u9636\u6bb5\u4f1a\u542f\u52a8\u4efb\u52a1,\u7531\u6846\u67b6\u81ea\u52a8\u6267\u884c"),(0,r.kt)("h3",{id:"\u751f\u547d\u5468\u671f\u4e4b--destroy"},"\u751f\u547d\u5468\u671f\u4e4b \u2014 destroy"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"destroy")," \u9636\u6bb5,\u662f\u7a0b\u5e8f\u8fd0\u884c\u5b8c\u6bd5\u4e86,\u5728jvm\u9000\u51fa\u4e4b\u524d\u7684\u6700\u540e\u4e00\u4e2a\u9636\u6bb5,\u4e00\u822c\u7528\u4e8e\u6536\u5c3e\u7684\u5de5\u4f5c"),(0,r.kt)("admonition",{title:"\u8bf4\u660e",type:"note"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"destroy")," \u9636\u6bb5\u662f\u9700\u8981\u5f00\u53d1\u8005\u53c2\u4e0e\u7684\u9636\u6bb5,\u662f\u53ef\u9009\u7684\u9636\u6bb5")),(0,r.kt)("h2",{id:"\u76ee\u5f55\u7ed3\u6784"},"\u76ee\u5f55\u7ed3\u6784"),(0,r.kt)("p",null,"\u63a8\u8350\u7684\u9879\u76ee\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b,\u5177\u4f53\u53ef\u4ee5\u53c2\u8003",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/streampark-quickstart"},"Streampark-flink-quickstart")," \u91cc\u7684\u76ee\u5f55\u7ed3\u6784\u548c\u914d\u7f6e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tree"},".\n|\u2500\u2500 assembly\n\u2502    \u251c\u2500\u2500 bin\n\u2502    \u2502    \u251c\u2500\u2500 startup.sh                             //\u542f\u52a8\u811a\u672c\n\u2502    \u2502    \u251c\u2500\u2500 setclasspath.sh                        //Java\u73af\u5883\u53d8\u91cf\u76f8\u5173\u7684\u811a\u672c(\u6846\u67b6\u5185\u90e8\u4f7f\u7528,\u5f00\u53d1\u8005\u65e0\u9700\u5173\u6ce8)\n\u2502    \u2502    \u251c\u2500\u2500 shutdown.sh                            //\u4efb\u52a1\u505c\u6b62\u811a\u672c(\u4e0d\u5efa\u8bae\u4f7f\u7528)\n\u2502    \u2502    \u2514\u2500\u2500 flink.sh                               //\u542f\u52a8\u65f6\u5185\u90e8\u4f7f\u7528\u5230\u7684\u811a\u672c(\u6846\u67b6\u5185\u90e8\u4f7f\u7528,\u5f00\u53d1\u8005\u65e0\u9700\u5173\u6ce8)\n\u2502    \u2502\u2500\u2500 conf\n\u2502    \u2502    \u251c\u2500\u2500 test\n\u2502    \u2502    \u2502    \u251c\u2500\u2500 application.yaml                  //\u6d4b\u8bd5(test)\u9636\u6bb5\u7684\u914d\u7f6e\u6587\u4ef6\n\u2502    \u2502    \u2502    \u2514\u2500\u2500 sql.yaml                          //flink sql\n\u2502    \u2502    \u2502\n\u2502    \u2502    \u251c\u2500\u2500 prod\n\u2502    \u2502    \u2502    \u251c\u2500\u2500 application.yaml                  //\u751f\u4ea7(prod)\u9636\u6bb5\u7684\u914d\u7f6e\u6587\u4ef6\n\u2502    \u2502    \u2502    \u2514\u2500\u2500 sql.yaml                          //flink sql\n\u2502    \u2502\u2500\u2500 logs                                        //logs\u76ee\u5f55\n\u2502    \u2514\u2500\u2500 temp\n\u2502\n\u2502\u2500\u2500 src\n\u2502    \u2514\u2500\u2500 main\n\u2502         \u251c\u2500\u2500 Java\n\u2502         \u251c\u2500\u2500 resources\n\u2502         \u2514\u2500\u2500 scala\n\u2502\n\u2502\u2500\u2500 assembly.xml\n\u2502\n\u2514\u2500\u2500 pom.xml\n")),(0,r.kt)("p",null,"assembly.xml \u662fassembly\u6253\u5305\u63d2\u4ef6\u9700\u8981\u7528\u5230\u7684\u914d\u7f6e\u6587\u4ef6,\u5b9a\u4e49\u5982\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<assembly>\n    <id>bin</id>\n    <formats>\n        <format>tar.gz</format>\n    </formats>\n    <fileSets>\n        <fileSet>\n            <directory>assembly/bin</directory>\n            <outputDirectory>bin</outputDirectory>\n            <fileMode>0755</fileMode>\n        </fileSet>\n        <fileSet>\n            <directory>${project.build.directory}</directory>\n            <outputDirectory>lib</outputDirectory>\n            <fileMode>0755</fileMode>\n            <includes>\n                <include>*.jar</include>\n            </includes>\n            <excludes>\n                <exclude>original-*.jar</exclude>\n            </excludes>\n        </fileSet>\n        <fileSet>\n            <directory>assembly/conf</directory>\n            <outputDirectory>conf</outputDirectory>\n            <fileMode>0755</fileMode>\n        </fileSet>\n        <fileSet>\n            <directory>assembly/logs</directory>\n            <outputDirectory>logs</outputDirectory>\n            <fileMode>0755</fileMode>\n        </fileSet>\n        <fileSet>\n            <directory>assembly/temp</directory>\n            <outputDirectory>temp</outputDirectory>\n            <fileMode>0755</fileMode>\n        </fileSet>\n    </fileSets>\n</assembly>\n")),(0,r.kt)("h2",{id:"\u6253\u5305\u90e8\u7f72"},"\u6253\u5305\u90e8\u7f72"),(0,r.kt)("p",null,"\u63a8\u8350 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/streampark/streampark-flink/streampark-flink-quickstart"},"streampark-flink-quickstart")," \u91cc\u7684\u6253\u5305\u6a21\u5f0f,\u76f4\u63a5\u8fd0\u884c",(0,r.kt)("inlineCode",{parentName:"p"},"maven package"),"\u5373\u53ef\u751f\u6210\u4e00\u4e2a\u6807\u51c6\u7684StreamPark\u63a8\u8350\u7684\u9879\u76ee\u5305,\u89e3\u5305\u540e\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},".\nStreampark-flink-quickstart-1.0.0\n\u251c\u2500\u2500 bin\n\u2502   \u251c\u2500\u2500 startup.sh                             //\u542f\u52a8\u811a\u672c\n\u2502   \u251c\u2500\u2500 setclasspath.sh                        //Java\u73af\u5883\u53d8\u91cf\u76f8\u5173\u7684\u811a\u672c(\u5185\u90e8\u4f7f\u7528\u7684,\u7528\u6237\u65e0\u9700\u5173\u6ce8)\n\u2502   \u251c\u2500\u2500 shutdown.sh                            //\u4efb\u52a1\u505c\u6b62\u811a\u672c(\u4e0d\u5efa\u8bae\u4f7f\u7528)\n\u2502   \u251c\u2500\u2500 flink.sh                               //\u542f\u52a8\u65f6\u5185\u90e8\u4f7f\u7528\u5230\u7684\u811a\u672c(\u5185\u90e8\u4f7f\u7528\u7684,\u7528\u6237\u65e0\u9700\u5173\u6ce8)\n\u251c\u2500\u2500 conf\n\u2502   \u251c\u2500\u2500 application.yaml                       //\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 sql.yaml                               // flink sql\u6587\u4ef6\n\u251c\u2500\u2500 lib\n\u2502   \u2514\u2500\u2500 Streampark-flink-quickstart-1.0.0.jar     //\u9879\u76ee\u7684jar\u5305\n\u2514\u2500\u2500 temp\n")),(0,r.kt)("h2",{id:"\u542f\u52a8\u547d\u4ee4"},"\u542f\u52a8\u547d\u4ee4"),(0,r.kt)("p",null,"\u542f\u52a8\u4e4b\u524d\u786e\u5b9aapplication.yaml\u548c sql.yaml \u914d\u7f6e\u6587\u4ef6,\u5982\u679c\u8981\u542f\u52a8\u7684\u4efb\u52a1\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"DataStream"),"\u4efb\u52a1,\u76f4\u63a5\u5728startup.sh\u540e\u8ddf\u4e0a\u914d\u7f6e\u6587\u4ef6\u5373\u53ef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bin/startup.sh --conf conf/application.yaml\n")),(0,r.kt)("p",null,"\u5982\u679c\u8981\u542f\u52a8\u7684\u4efb\u52a1\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"Flink Sql"),"\u4efb\u52a1,\u5219\u9700\u8981\u8ddf\u4e0a\u914d\u7f6e\u6587\u4ef6\u548csql.yaml"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bin/startup.sh --conf conf/application.yaml --sql conf/sql.yaml\n")))}c.isMDXComponent=!0},8695:(e,n,a)=>{a.d(n,{Z:()=>t});const t=a.p+"assets/images/streampark_apis-574b985bc649f26aacf875ccd0155793.jpeg"},6206:(e,n,a)=>{a.d(n,{Z:()=>t});const t=a.p+"assets/images/streampark_scala_life_cycle-7bfdf4f1228b36f59fae79943d5c8108.png"}}]);